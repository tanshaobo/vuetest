<!DOCTYPE html>
<html>
    <head>
        <title>vuetest22_自定义事件</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    </head>
    <body>
        <div id="app">
            <my-btn @total="alltotal()"></my-btn>
            <my-btn @total="alltotal()"></my-btn>
            <my-btn @total="alltotal()"></my-btn>
            <my-btn @total="alltotal()"></my-btn>
            <my-btn @total="alltotal()"></my-btn>
            <p>所有按钮一共被点击{{allcount}}次</p>
        </div>
        <template id="my-btn">
            <button @click="total()">点击了{{count}}次</button>
        </template>
        <script>
Vue.component('my-btn', {
    template: "#my-btn",
    data() {
        return{
            count: 0
        }
    },
    methods: {
        total() {
            this.count += 1;
            this.$emit('total');
        }
    }
})
new Vue({
    el: '#app',
    data(){
        return {
           allcount:0 
        }
    },
    methods:{
        alltotal(){
           this.allcount+=1 
        }
    }
    
});

        </script>
    </body>
</html>
